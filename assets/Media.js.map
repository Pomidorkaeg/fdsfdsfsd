{"version":3,"file":"Media.js","sources":["../../src/pages/Media.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Navbar from '@/components/Navbar';\nimport Footer from '@/components/Footer';\nimport { Image as ImageIcon, Video, ChevronDown, Search, Calendar, PlayCircle } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { db } from '@/lib/db';\n\ninterface MediaItem {\n  id: string;\n  type: 'image' | 'video';\n  title: string;\n  date: string;\n  thumbnail: string;\n  url: string;\n  category: string;\n}\n\nconst Media = () => {\n  const [filter, setFilter] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [mediaItems, setMediaItems] = useState([]);\n\n  useEffect(() => {\n    const fetchMedia = async () => {\n      const media = await db.getMedia();\n      setMediaItems(media);\n    };\n    fetchMedia();\n  }, []);\n  \n  const filteredMedia = mediaItems.filter((item) => {\n    // Apply type filter\n    if (filter === 'images' && item.type !== 'image') return false;\n    if (filter === 'videos' && item.type !== 'video') return false;\n    \n    // Apply category filter\n    if (filter === 'match' && item.category !== 'match') return false;\n    if (filter === 'training' && item.category !== 'training') return false;\n    if (filter === 'interview' && item.category !== 'interview') return false;\n    if (filter === 'stadium' && item.category !== 'stadium') return false;\n    if (filter === 'academy' && item.category !== 'academy') return false;\n    \n    // Apply search filter\n    if (searchQuery && !item.title.toLowerCase().includes(searchQuery.toLowerCase())) {\n      return false;\n    }\n    \n    return true;\n  });\n  \n  const handleFilterChange = (newFilter: string) => {\n    setFilter(newFilter);\n  };\n  \n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Navbar />\n      \n      <main className=\"flex-grow pt-16 page-transition\">\n        {/* Header */}\n        <div className=\"relative bg-fc-green text-white py-16\">\n          <div \n            className=\"absolute inset-0 bg-gradient-to-r from-fc-green/90 to-fc-darkGreen/80\"\n            style={{ \n              backgroundImage: `url('https://images.unsplash.com/photo-1567464825372-887fb33902be?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2069&q=80')`,\n              backgroundSize: 'cover',\n              backgroundPosition: 'center',\n              backgroundBlendMode: 'overlay'\n            }}\n          ></div>\n          \n          <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex flex-col items-center text-center\">\n              <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-white/10 backdrop-blur-sm mb-6\">\n                <ImageIcon className=\"w-8 h-8\" />\n              </div>\n              \n              <h1 className=\"text-4xl font-bold mb-4\">Медиа галерея</h1>\n              <p className=\"max-w-2xl text-white/80 text-lg\">\n                Фотографии и видео с матчей, тренировок и других мероприятий клуба\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        {/* Filter Section */}\n        <section className=\"py-8 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto border-b border-gray-200\">\n          <div className=\"flex flex-col md:flex-row justify-between gap-4\">\n            <div className=\"flex flex-wrap gap-2\">\n              <button\n                onClick={() => handleFilterChange('all')}\n                className={cn(\n                  \"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300\",\n                  filter === 'all' \n                    ? \"bg-fc-green text-white\" \n                    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                )}\n              >\n                Все медиа\n              </button>\n              \n              <button\n                onClick={() => handleFilterChange('images')}\n                className={cn(\n                  \"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300\",\n                  filter === 'images' \n                    ? \"bg-fc-green text-white\" \n                    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                )}\n              >\n                Фото\n              </button>\n              \n              <button\n                onClick={() => handleFilterChange('videos')}\n                className={cn(\n                  \"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300\",\n                  filter === 'videos' \n                    ? \"bg-fc-green text-white\" \n                    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                )}\n              >\n                Видео\n              </button>\n              \n              <button\n                onClick={() => handleFilterChange('match')}\n                className={cn(\n                  \"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300\",\n                  filter === 'match' \n                    ? \"bg-fc-green text-white\" \n                    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                )}\n              >\n                Матчи\n              </button>\n              \n              <button\n                onClick={() => handleFilterChange('training')}\n                className={cn(\n                  \"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300\",\n                  filter === 'training' \n                    ? \"bg-fc-green text-white\" \n                    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                )}\n              >\n                Тренировки\n              </button>\n            </div>\n            \n            <div className=\"relative mt-4 md:mt-0\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={18} />\n              <input\n                type=\"text\"\n                placeholder=\"Поиск медиа...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-10 pr-4 py-2 w-full md:w-72 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-fc-green/50\"\n              />\n            </div>\n          </div>\n        </section>\n        \n        {/* Media Grid */}\n        <section className=\"py-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto\">\n          {filteredMedia.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <p className=\"text-gray-500 mb-4\">По вашему запросу не найдено медиафайлов</p>\n              <button\n                onClick={() => { setSearchQuery(''); setFilter('all'); }}\n                className=\"px-4 py-2 bg-fc-green text-white rounded-md hover:bg-fc-darkGreen transition-colors\"\n              >\n                Сбросить фильтры\n              </button>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n              {filteredMedia.map((item) => (\n                <div \n                  key={item.id}\n                  className=\"group rounded-xl overflow-hidden shadow-sm border border-gray-200 card-hover\"\n                >\n                  <div className=\"relative aspect-square overflow-hidden\">\n                    <img \n                      src={item.thumbnail} \n                      alt={item.title} \n                      className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110\"\n                    />\n                    \n                    {item.type === 'video' && (\n                      <div className=\"absolute inset-0 bg-black/30 flex items-center justify-center opacity-80 group-hover:opacity-100 transition-opacity duration-300\">\n                        <PlayCircle className=\"text-white w-12 h-12\" />\n                      </div>\n                    )}\n                    \n                    <div className=\"absolute top-2 left-2\">\n                      <div className=\"flex items-center space-x-2\">\n                        <span className={cn(\n                          \"px-2 py-1 rounded-full text-xs font-medium\",\n                          item.type === 'image' \n                            ? \"bg-fc-green/80 text-white backdrop-blur-sm\" \n                            : \"bg-fc-red/80 text-white backdrop-blur-sm\"\n                        )}>\n                          {item.type === 'image' ? 'Фото' : 'Видео'}\n                        </span>\n                        \n                        <span className=\"px-2 py-1 bg-white/80 backdrop-blur-sm rounded-full text-gray-800 text-xs font-medium\">\n                          {item.category === 'match' ? 'Матч' : \n                           item.category === 'training' ? 'Тренировка' : \n                           item.category === 'interview' ? 'Интервью' : \n                           item.category === 'stadium' ? 'Стадион' : \n                           'Академия'}\n                        </span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"absolute inset-x-0 bottom-0 p-4 bg-gradient-to-t from-black/70 to-transparent\">\n                      <div className=\"flex items-center text-white/90 text-xs mb-1\">\n                        <Calendar size={12} className=\"mr-1\" />\n                        <span>{item.date}</span>\n                      </div>\n                      <h3 className=\"text-white font-medium line-clamp-2 group-hover:text-white/90 transition-colors\">\n                        {item.title}\n                      </h3>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </section>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n};\n\nexport default Media;\n"],"names":["Media","filter","setFilter","useState","searchQuery","setSearchQuery","mediaItems","setMediaItems","useEffect","__async","media","db","filteredMedia","item","handleFilterChange","newFilter","jsxs","jsx","Navbar","ImageIcon","cn","Search","e","PlayCircle","Calendar","Footer"],"mappings":"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"}